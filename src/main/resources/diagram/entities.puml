@startuml Luckydraw Entities

' Style settings
skinparam class {
    BackgroundColor white
    ArrowColor #666666
    BorderColor #666666
}

' Entities
class User {
    -Long id
    -String username
    -String password
    -String email
    -String firstName
    -String lastName
    -String phoneNumber
    -String status
    -boolean enabled
    -LocalDateTime createdAt
    -LocalDateTime updatedAt
}

class Role {
    -Long id
    -String name 
    -String description
    -boolean isActive
    -LocalDateTime createdAt 
    -LocalDateTime updatedAt
}

class Event {
    -Long id
    -String code
    -String name
    -String description
    -LocalDateTime startDate
    -LocalDateTime endDate
    -boolean isActive
    -LocalDateTime createdAt
    -LocalDateTime updatedAt
}

class EventLocation {
    -Long id
    -Long eventId
    -String location
    -int totalSpins
    -int remainingSpins
    -int dailySpinLimit
    -long spinsRemaining
    -boolean isActive
    -LocalDateTime createdAt
    -LocalDateTime updatedAt
}

class Participant {
    -Long id
    -Long userId
    -String name
    -String fullName
    -String email
    -String phoneNumber
    -String province
    -String customerId
    -String employeeId
    -String cardNumber
    -Long spinsRemaining
    -Long dailySpinLimit
    -Boolean isActive
    -Boolean isEligibleForSpin
    -LocalDateTime createdAt
    -LocalDateTime updatedAt
}

class Reward {
    -Long id
    -String name
    -String description
    -String location
    -String province
    -int quantity
    -int remainingQuantity
    -boolean isActive
    -Long eventId
    -LocalDateTime createdAt
    -LocalDateTime updatedAt
}

class SpinHistory {
    -Long id
    -Long participantId
    -Long eventId
    -Long eventLocationId
    -String spinCode
    -boolean isWin
    -LocalDateTime spinTime
    -LocalDateTime createdAt
    -LocalDateTime updatedAt
}

class GoldenHour {
    -Long id
    -Long eventId
    -LocalDateTime startTime
    -LocalDateTime endTime
    -double multiplier
    -boolean isActive
    -LocalDateTime createdAt
    -LocalDateTime updatedAt
}

' Relationships
User "1" -{ "*" Role : has >
User "1" --{ "*" Participant : referenced by >
Role "*" }--{ "*" Participant : has >
Event "1" --{ "*" EventLocation : has >
EventLocation "1" --{ "*" Participant : hosts >
EventLocation "1" --{ "*" SpinHistory : tracks >
EventLocation "1" --{ "*" Reward : contains >
EventLocation "1" -{ "*" GoldenHour : has >
Participant "1" --{ "*" SpinHistory : performs >
Reward "0..1" --{ "*" SpinHistory : awarded in >
SpinHistory "1" - "0..1" GoldenHour : in

@enduml